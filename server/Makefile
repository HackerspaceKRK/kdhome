# Generated by KD build system

CC=gcc
CXX=g++
OUTPUT=kdhome

DEFINES=-DLIBCONFIG_STATIC -DLIBCONFIGXX_STATIC
INCLUDEPATH=-I. -I.. -I../kdutils -I3rd/ -I3rd/libconfig-1.4.9
LIBS=-L/usr/lib -lpthread -lzmq -lstdc++

CFLAGS=-ggdb -Werror=implicit -O1 -fdata-sections -ffunction-sections -std=c++11
CFLAGS+=$(DEFINES)
CFLAGS+=$(INCLUDEPATH)
LFLAGS=-Wl,--relax,--gc-sections -Wl,-gc-sections -Wl,-Map=build/$(OUTPUT).map
LFLAGS+=$(LIBS)

all: prepare build/$(OUTPUT)
	size build/$(OUTPUT)

prepare:
	mkdir -p build/

build/main.o: main.cpp
	$(CXX) $(CFLAGS) -c $< -o $@

build/Program.o: Program.cpp
	$(CXX) $(CFLAGS) -c $< -o $@

build/Controller.o: Controller.cpp
	$(CXX) $(CFLAGS) -c $< -o $@

build/EthernetDevice.o: EthernetDevice.cpp
	$(CXX) $(CFLAGS) -c $< -o $@

build/StorageEngine.o: StorageEngine.cpp
	$(CXX) $(CFLAGS) -c $< -o $@

build/Providers.o: Providers.cpp
	$(CXX) $(CFLAGS) -c $< -o $@

build/providers_EthernetOutputProvider.o: providers/EthernetOutputProvider.cpp
	$(CXX) $(CFLAGS) -c $< -o $@

build/providers_EthernetInputProvider.o: providers/EthernetInputProvider.cpp
	$(CXX) $(CFLAGS) -c $< -o $@

build/providers_EthernetTempProvider.o: providers/EthernetTempProvider.cpp
	$(CXX) $(CFLAGS) -c $< -o $@

build/providers_EthernetIRProvider.o: providers/EthernetIRProvider.cpp
	$(CXX) $(CFLAGS) -c $< -o $@

build/__kdutils_Logger.o: ../kdutils/Logger.cpp
	$(CXX) $(CFLAGS) -c $< -o $@

build/__kdutils_UdpSocket.o: ../kdutils/UdpSocket.cpp
	$(CXX) $(CFLAGS) -c $< -o $@

build/__kdutils_kdutils.o: ../kdutils/kdutils.cpp
	$(CXX) $(CFLAGS) -c $< -o $@

build/3rd_format.o: 3rd/format.cc
	$(CXX) $(CFLAGS) -c $< -o $@

build/3rd_libconfig-1.4.9_grammar.o: 3rd/libconfig-1.4.9/grammar.c
	$(CC) $(CFLAGS) -c $< -o $@

build/3rd_libconfig-1.4.9_libconfig.o: 3rd/libconfig-1.4.9/libconfig.c
	$(CC) $(CFLAGS) -c $< -o $@

build/3rd_libconfig-1.4.9_scanctx.o: 3rd/libconfig-1.4.9/scanctx.c
	$(CC) $(CFLAGS) -c $< -o $@

build/3rd_libconfig-1.4.9_scanner.o: 3rd/libconfig-1.4.9/scanner.c
	$(CC) $(CFLAGS) -c $< -o $@

build/3rd_libconfig-1.4.9_strbuf.o: 3rd/libconfig-1.4.9/strbuf.c
	$(CC) $(CFLAGS) -c $< -o $@

build/3rd_libconfig-1.4.9_libconfigcpp.o: 3rd/libconfig-1.4.9/libconfigcpp.cc
	$(CXX) $(CFLAGS) -c $< -o $@

build/$(OUTPUT): build/main.o build/Program.o build/Controller.o build/EthernetDevice.o build/StorageEngine.o build/Providers.o build/providers_EthernetOutputProvider.o build/providers_EthernetInputProvider.o build/providers_EthernetTempProvider.o build/providers_EthernetIRProvider.o build/__kdutils_Logger.o build/__kdutils_UdpSocket.o build/__kdutils_kdutils.o build/3rd_format.o build/3rd_libconfig-1.4.9_grammar.o build/3rd_libconfig-1.4.9_libconfig.o build/3rd_libconfig-1.4.9_scanctx.o build/3rd_libconfig-1.4.9_scanner.o build/3rd_libconfig-1.4.9_strbuf.o build/3rd_libconfig-1.4.9_libconfigcpp.o
	$(CC) $(CFLAGS) $(LFLAGS) $^ -o $@

