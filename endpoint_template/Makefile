# Generated by KD build system

CC=gcc
CXX=g++
OUTPUT=main.elf

DEFINES=
INCLUDEPATH=-I. -I.. -I../providers -I../kdutils
LIBS=

CFLAGS=-ggdb -Werror=implicit -O1 -fdata-sections -ffunction-sections
CFLAGS+=$(DEFINES)
CFLAGS+=$(INCLUDEPATH)
LFLAGS=-Wl,--relax,--gc-sections -Wl,-gc-sections -Wl,-Map=build/$(OUTPUT).map
LFLAGS+=$(LIBS)

all: prepare build/$(OUTPUT)
	size build/$(OUTPUT)

prepare:
	mkdir -p build/

build/main.o: main.cpp
	$(CXX) $(CFLAGS) -c $< -o $@

build/__providers_providers.o: ../providers/providers.c
	$(CC) $(CFLAGS) -c $< -o $@

build/__providers_provider_ir.o: ../providers/provider_ir.c
	$(CC) $(CFLAGS) -c $< -o $@

build/__providers_provider_input.o: ../providers/provider_input.c
	$(CC) $(CFLAGS) -c $< -o $@

build/__providers_provider_output.o: ../providers/provider_output.c
	$(CC) $(CFLAGS) -c $< -o $@

build/__providers_provider_temp.o: ../providers/provider_temp.c
	$(CC) $(CFLAGS) -c $< -o $@

build/__providers_provider_counter.o: ../providers/provider_counter.c
	$(CC) $(CFLAGS) -c $< -o $@

build/__kdutils_UdpSocket.o: ../kdutils/UdpSocket.cpp
	$(CXX) $(CFLAGS) -c $< -o $@

build/__kdutils_kdutils.o: ../kdutils/kdutils.cpp
	$(CXX) $(CFLAGS) -c $< -o $@

build/$(OUTPUT): build/main.o build/__providers_providers.o build/__providers_provider_ir.o build/__providers_provider_input.o build/__providers_provider_output.o build/__providers_provider_temp.o build/__providers_provider_counter.o build/__kdutils_UdpSocket.o build/__kdutils_kdutils.o
	$(CXX) $(CFLAGS) $^ $(LFLAGS) -o $@
